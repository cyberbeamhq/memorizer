# Monitoring and Observability Configuration
# Copy this file to monitoring.env and configure for your environment

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Log format (json or text)
LOG_FORMAT=json

# Log file paths
LOG_FILE=logs/memorizer.log
ERROR_LOG_FILE=logs/memorizer_errors.log

# Log rotation settings
LOG_MAX_BYTES=10485760  # 10MB
LOG_BACKUP_COUNT=5

# =============================================================================
# LOG AGGREGATION
# =============================================================================

# Enable log aggregation
LOG_AGGREGATION_ENABLED=false

# Log aggregation type (elasticsearch, fluentd, splunk)
LOG_AGGREGATION_TYPE=elasticsearch

# Elasticsearch configuration
ELASTICSEARCH_HOSTS=localhost:9200
ELASTICSEARCH_INDEX=memorizer-logs

# Fluentd configuration
FLUENTD_HOST=localhost
FLUENTD_PORT=24224
FLUENTD_TAG=memorizer

# Splunk configuration
SPLUNK_HOST=localhost
SPLUNK_PORT=8088
SPLUNK_TOKEN=your_splunk_token_here
SPLUNK_INDEX=memorizer

# =============================================================================
# PERFORMANCE MONITORING
# =============================================================================

# Enable performance monitoring
PERFORMANCE_MONITORING_ENABLED=true

# Metrics collection interval (seconds)
METRICS_COLLECTION_INTERVAL=30

# Performance thresholds
PERFORMANCE_THRESHOLD_REQUEST_TIME_MS=5000
PERFORMANCE_THRESHOLD_DATABASE_TIME_MS=1000
PERFORMANCE_THRESHOLD_CACHE_TIME_MS=100
PERFORMANCE_THRESHOLD_VECTOR_TIME_MS=2000

# =============================================================================
# ALERTING CONFIGURATION
# =============================================================================

# Enable alerting
ALERTING_ENABLED=true

# Alert thresholds
ALERT_ERROR_RATE_THRESHOLD=0.05  # 5%
ALERT_RESPONSE_TIME_THRESHOLD=5.0  # 5 seconds
ALERT_CACHE_HIT_RATIO_THRESHOLD=0.8  # 80%
ALERT_MEMORY_USAGE_THRESHOLD=1073741824  # 1GB

# Alert notification methods
ALERT_EMAIL_ENABLED=false
ALERT_SLACK_ENABLED=false
ALERT_WEBHOOK_ENABLED=false

# Email configuration
ALERT_EMAIL_SMTP_HOST=smtp.gmail.com
ALERT_EMAIL_SMTP_PORT=587
ALERT_EMAIL_USERNAME=your_email@gmail.com
ALERT_EMAIL_PASSWORD=your_app_password
ALERT_EMAIL_FROM=alerts@memorizer.dev
ALERT_EMAIL_TO=admin@memorizer.dev

# Slack configuration
ALERT_SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
ALERT_SLACK_CHANNEL=#alerts

# Webhook configuration
ALERT_WEBHOOK_URL=https://your-webhook-endpoint.com/alerts
ALERT_WEBHOOK_SECRET=your_webhook_secret

# =============================================================================
# HEALTH CHECKS
# =============================================================================

# Health check configuration
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30  # seconds
HEALTH_CHECK_TIMEOUT=10  # seconds

# Component health check settings
HEALTH_CHECK_DATABASE_ENABLED=true
HEALTH_CHECK_CACHE_ENABLED=true
HEALTH_CHECK_VECTOR_DB_ENABLED=true
HEALTH_CHECK_MEMORY_MANAGER_ENABLED=true
HEALTH_CHECK_SYSTEM_RESOURCES_ENABLED=true
HEALTH_CHECK_EXTERNAL_SERVICES_ENABLED=true

# Health check thresholds
HEALTH_CHECK_DATABASE_TIMEOUT=5
HEALTH_CHECK_CACHE_TIMEOUT=3
HEALTH_CHECK_VECTOR_DB_TIMEOUT=5
HEALTH_CHECK_MEMORY_MANAGER_TIMEOUT=3
HEALTH_CHECK_SYSTEM_RESOURCES_TIMEOUT=2
HEALTH_CHECK_EXTERNAL_SERVICES_TIMEOUT=10

# =============================================================================
# AUTOMATED TESTING
# =============================================================================

# Automated testing configuration
AUTOMATED_TESTING_ENABLED=true
AUTOMATED_TESTING_INTERVAL=3600  # 1 hour
AUTOMATED_TESTING_TIMEOUT=300  # 5 minutes

# Test suites to run
AUTOMATED_TESTING_DATABASE_TESTS=true
AUTOMATED_TESTING_CACHE_TESTS=true
AUTOMATED_TESTING_MEMORY_MANAGER_TESTS=true
AUTOMATED_TESTING_VECTOR_DB_TESTS=true
AUTOMATED_TESTING_API_TESTS=true
AUTOMATED_TESTING_INTEGRATION_TESTS=true
AUTOMATED_TESTING_PERFORMANCE_TESTS=true

# =============================================================================
# DASHBOARD CONFIGURATION
# =============================================================================

# Dashboard configuration
DASHBOARD_ENABLED=true
DASHBOARD_REFRESH_INTERVAL=30  # seconds
DASHBOARD_HISTORY_RETENTION_DAYS=7

# Dashboard authentication
DASHBOARD_AUTH_ENABLED=false
DASHBOARD_AUTH_USERNAME=admin
DASHBOARD_AUTH_PASSWORD=admin_password

# =============================================================================
# DISTRIBUTED TRACING
# =============================================================================

# Distributed tracing configuration
TRACING_ENABLED=true
TRACING_SAMPLE_RATE=0.1  # 10% sampling rate

# Jaeger configuration
JAEGER_ENABLED=false
JAEGER_AGENT_HOST=localhost
JAEGER_AGENT_PORT=6831
JAEGER_COLLECTOR_ENDPOINT=http://localhost:14268/api/traces

# Zipkin configuration
ZIPKIN_ENABLED=false
ZIPKIN_ENDPOINT=http://localhost:9411/api/v2/spans

# =============================================================================
# METRICS EXPORT
# =============================================================================

# Prometheus metrics export
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090
PROMETHEUS_PATH=/metrics

# Custom metrics
CUSTOM_METRICS_ENABLED=true
BUSINESS_METRICS_ENABLED=true

# =============================================================================
# SYSTEM MONITORING
# =============================================================================

# System resource monitoring
SYSTEM_MONITORING_ENABLED=true
SYSTEM_MONITORING_INTERVAL=60  # seconds

# Resource thresholds
SYSTEM_CPU_THRESHOLD=90  # 90%
SYSTEM_MEMORY_THRESHOLD=90  # 90%
SYSTEM_DISK_THRESHOLD=90  # 90%

# =============================================================================
# EXTERNAL SERVICE MONITORING
# =============================================================================

# External service health checks
EXTERNAL_SERVICE_MONITORING_ENABLED=true
EXTERNAL_SERVICE_CHECK_INTERVAL=300  # 5 minutes

# OpenAI monitoring
OPENAI_MONITORING_ENABLED=true
OPENAI_API_TIMEOUT=10

# Vector database monitoring
VECTOR_DB_MONITORING_ENABLED=true
VECTOR_DB_API_TIMEOUT=10

# =============================================================================
# SECURITY MONITORING
# =============================================================================

# Security monitoring
SECURITY_MONITORING_ENABLED=true
SECURITY_EVENT_LOGGING=true

# Security thresholds
SECURITY_FAILED_LOGIN_THRESHOLD=5
SECURITY_RATE_LIMIT_THRESHOLD=100
SECURITY_SUSPICIOUS_ACTIVITY_THRESHOLD=10

# =============================================================================
# COMPLIANCE AND AUDIT
# =============================================================================

# Audit logging
AUDIT_LOGGING_ENABLED=true
AUDIT_LOG_RETENTION_DAYS=365

# Compliance monitoring
COMPLIANCE_MONITORING_ENABLED=true
GDPR_COMPLIANCE_ENABLED=true
SOX_COMPLIANCE_ENABLED=false

# =============================================================================
# NOTIFICATION SETTINGS
# =============================================================================

# Notification preferences
NOTIFICATION_CRITICAL_ALERTS=true
NOTIFICATION_WARNING_ALERTS=true
NOTIFICATION_INFO_ALERTS=false

# Notification frequency limits
NOTIFICATION_RATE_LIMIT_PER_HOUR=10
NOTIFICATION_COOLDOWN_MINUTES=15

# =============================================================================
# DEVELOPMENT AND DEBUGGING
# =============================================================================

# Development settings
DEBUG_MODE=false
VERBOSE_LOGGING=false
TRACE_REQUESTS=false

# Testing settings
TEST_MODE=false
MOCK_EXTERNAL_SERVICES=false
TEST_DATA_CLEANUP=true
